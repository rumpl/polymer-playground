<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../todo-item/todo-item.html">
<link href="../../bower_components/paper-item/paper-item.html" rel="import">

<polymer-element name="todo-item" attributes="item">
    <template>
        <link rel="stylesheet" href="todo-item.css">
        <paper-shadow class="card" z="1" horizontal layout>
            <paper-item disabled?="{{ item.done }}" flex center-justified>
                {{ item.title }}
            </paper-item>
            <paper-toggle-button checked?="{{ item.done }}" align-center on-change="{{ toggleChange }}"></paper-toggle-button>
            <core-icon icon="icons:delete" on-click="{{ deleteAction }}"></core-icon>
        </paper-shadow>
    </template>
    <script>
        (function () {
            Polymer({
                deleteAction: function () {
                    this.fire('todo-item-delete', this.item);
                },
                toggleChange: function (e, data, sender) {
                    this.item.done = sender.checked;
                    this.fire('todo-item-checked');
                }
            });
        })();
    </script>
</polymer-element>
